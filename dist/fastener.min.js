!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("infestines")):"function"==typeof define&&define.amd?define(["exports","infestines"],n):n(r.F=r.F||{},r.I)}(this,function(r,n){"use strict";function e(r){for(var n in r)return n}function t(r){var n=void 0;for(var e in r)n=e;return n}function u(r){for(var n=null;r;)n=3===r.length?[n,r[1],r[2]]:[n,r[1]],r=r[0];return n}function i(r,n){for(;r;)n[r[2]]=r[1],r=r[0]}function o(r,e,t){var i=null,o=null,f=void 0;for(var c in r)n.isDefined(f)?o=[o,r[c],c]:e===c?f=r[c]:i=[i,r[c],c];return g(i,f,e,u(o),t)}function f(r,n){for(;r;)n.push(r[1]),r=r[0]}function c(r,n,e){for(var t=null,u=null,i=0;i<n;++i)t=[t,r[i]];for(var o=r.length-1;n<o;--o)u=[u,r[o]];return g(t,r[n],n,u,e)}function s(r){var e=r.left,t=r.focus,o=r.key,c=r.right,s=r.up;switch(typeof o){case"number":var a=[];return f(u(e),a),n.isDefined(t)&&a.push(t),f(c,a),n.assocPartialU("focus",a,s);case"string":var v={};return i(u(e),v),n.isDefined(t)&&(v[o]=t),i(c,v),n.assocPartialU("focus",v,s)}}function a(r,e){var t=e.focus;return n.isObject(t)&&n.isString(r)&&r in t?o(t,r,n.dissocPartialU("focus",e)):n.isArray(t)&&n.isNumber(r)&&0<=r&&r<t.length?c(t,r,n.dissocPartialU("focus",e)):void 0}function v(r){var n=s(r);return n&&x(n)}function d(r){var n=s(r);return n&&M(n)}function l(r){var n=s(r);return n?l(n):k(r)}function y(r,n,e,t){var u=r(t);return u?e(u):n}function p(r,n){switch(r){case N:return q;case q:return N;case s:return O(m(n));default:return s}}function h(r){for(var e=[];r&&n.isDefined(r.key);)e.push(r.key),r=r.up;return e.reverse()}var g=function(r,e,t,u,i){return n.isDefined(i)?{left:r,focus:e,key:t,right:u,up:i}:{left:r,focus:e,key:t,right:u}},k=function(r){return r.focus},m=function(r){return r.key},b=function(r,e){return n.assocPartialU("focus",r,e)},w=n.curry(b),P=function(r,n){return b(r(k(n)),n)},D=n.curry(P),O=n.curry(a),U=n.curry(function(r,n){for(var e=0,t=r.length;n&&e<t;++e)n=a(r[e],n);return n}),j=function(r){return function(u){var i=u.focus;return n.isObject(i)?a(r?e(i):t(i),u):n.isArray(i)?a(r?0:i.length-1,u):void 0}},x=j(!0),M=j(!1),N=function(r){var e=r.left,t=r.focus,u=r.key,i=r.right,o=r.up;return e?n.isNumber(u)?g(e[0],e[1],u-1,[i,t],o):g(e[0],e[1],e[2],[i,t,u],o):void 0},q=function(r){var e=r.left,t=r.focus,u=r.key,i=r.right,o=r.up;return i?n.isNumber(u)?g([e,t],i[1],u+1,i[0],o):g([e,t,u],i[1],i[2],i[0],o):void 0},A=function(r){return{focus:r}},F=n.curry(y),Z=function(r,e,t){return y(r,t,function(u){return y(p(r,t),t,n.id,e(u))},t)},_=n.curry(Z),H=function r(n){return function(e){return Z(q,r(n),I(n,e))}},I=function(r,n){return P(r,Z(x,H(r),n))},L=n.curry(I);r.get=k,r.keyOf=m,r.set=w,r.modify=D,r.up=s,r.downTo=O,r.downPath=U,r.downHead=x,r.downLast=M,r.left=N,r.right=q,r.head=v,r.last=d,r.toZipper=A,r.fromZipper=l,r.queryMove=F,r.transformMove=_,r.everywhere=L,r.pathOf=h,Object.defineProperty(r,"__esModule",{value:!0})});
