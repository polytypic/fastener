(function(f){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=f()}else if(typeof define==="function"&&define.amd){define([],f)}else{var g;if(typeof window!=="undefined"){g=window}else if(typeof global!=="undefined"){g=global}else if(typeof self!=="undefined"){g=self}else{g=this}g.F = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"use strict";function firstKey(e){for(var r in e)return r}function lastKey(e){var r=void 0;for(var t in e)r=t;return r}function reverse(e){for(var r=null;e;)r=3===e.length?[r,e[1],e[2]]:[r,e[1]],e=e[0];return r}function intoObject(e,r){for(;e;)r[e[2]]=e[1],e=e[0]}function fromObject(e,r,t){var n=null,o=null,i=void 0;for(var s in e)(0,_infestines.isDefined)(i)?o=[o,e[s],s]:r===s?i=e[s]:n=[n,e[s],s];return zipper(n,i,r,reverse(o),t)}function intoArray(e,r){for(;e;)r.push(e[1]),e=e[0]}function fromArray(e,r,t){for(var n=null,o=null,i=0;i<r;++i)n=[n,e[i]];for(var s=e.length-1;r<s;--s)o=[o,e[s]];return zipper(n,e[r],r,o,t)}function up(e){var r=e.left,t=e.focus,n=e.key,o=e.right,i=e.up;switch(typeof n){case"number":var s=[];return intoArray(reverse(r),s),(0,_infestines.isDefined)(t)&&s.push(t),intoArray(o,s),(0,_infestines.assocPartialU)("focus",s,i);case"string":var f={};return intoObject(reverse(r),f),(0,_infestines.isDefined)(t)&&(f[n]=t),intoObject(o,f),(0,_infestines.assocPartialU)("focus",f,i)}}function downToU(e,r){var t=r.focus;return(0,_infestines.isObject)(t)&&isString(e)&&e in t?fromObject(t,e,(0,_infestines.dissocPartialU)("focus",r)):(0,_infestines.isArray)(t)&&isNumber(e)&&0<=e&&e<t.length?fromArray(t,e,(0,_infestines.dissocPartialU)("focus",r)):void 0}function downPathU(e,r){for(var t=0,n=e.length;r&&t<n;++t)r=downToU(e[t],r);return r}function head(e){var r=up(e);return r&&downHead(r)}function last(e){var r=up(e);return r&&downLast(r)}function fromZipper(e){var r=up(e);return r?fromZipper(r):get(e)}function queryMoveU(e,r,t,n){var o=e(n);return o?t(o):r}function bwd(e,r){switch(e){case left:return right;case right:return left;case up:return downTo(keyOf(r));default:return up}}function pathOf(e){for(var r=[];e&&(0,_infestines.isDefined)(e.key);)r.unshift(e.key),e=e.up;return r}Object.defineProperty(exports,"__esModule",{value:!0}),exports.everywhere=exports.transformMove=exports.queryMove=exports.toZipper=exports.right=exports.left=exports.downLast=exports.downHead=exports.downPath=exports.downTo=exports.modify=exports.set=exports.keyOf=exports.get=void 0,exports.up=up,exports.head=head,exports.last=last,exports.fromZipper=fromZipper,exports.pathOf=pathOf;var _infestines=require("infestines"),isString=function(e){return"string"==typeof e},isNumber=function(e){return"number"==typeof e},zipper=function(e,r,t,n,o){return(0,_infestines.isDefined)(o)?{left:e,focus:r,key:t,right:n,up:o}:{left:e,focus:r,key:t,right:n}},get=exports.get=function(e){return e.focus},keyOf=exports.keyOf=function(e){return e.key},setU=function(e,r){return(0,_infestines.assocPartialU)("focus",e,r)},set=exports.set=(0,_infestines.curry)(setU),modifyU=function(e,r){return setU(e(get(r)),r)},modify=exports.modify=(0,_infestines.curry)(modifyU),downTo=exports.downTo=(0,_infestines.curry)(downToU),downPath=exports.downPath=(0,_infestines.curry)(downPathU),downMost=function(e){return function(r){var t=r.focus;return(0,_infestines.isObject)(t)?downToU(e?firstKey(t):lastKey(t),r):(0,_infestines.isArray)(t)?downToU(e?0:t.length-1,r):void 0}},downHead=exports.downHead=downMost(!0),downLast=exports.downLast=downMost(!1),left=exports.left=function e(r){var e=r.left,t=r.focus,n=r.key,o=r.right,i=r.up;return e?isNumber(n)?zipper(e[0],e[1],n-1,[o,t],i):zipper(e[0],e[1],e[2],[o,t,n],i):void 0},right=exports.right=function e(r){var t=r.left,n=r.focus,o=r.key,e=r.right,i=r.up;return e?isNumber(o)?zipper([t,n],e[1],o+1,e[0],i):zipper([t,n,o],e[1],e[2],e[0],i):void 0},toZipper=exports.toZipper=function(e){return{focus:e}},queryMove=exports.queryMove=(0,_infestines.curry)(queryMoveU),transformMoveU=function(e,r,t){return queryMoveU(e,t,function(n){return queryMoveU(bwd(e,t),t,_infestines.id,r(n))},t)},transformMove=exports.transformMove=(0,_infestines.curry)(transformMoveU),everywhereG=function e(r){return function(t){return transformMoveU(right,e(r),everywhereU(r,t))}},everywhereU=function(e,r){return modifyU(e,transformMoveU(downHead,everywhereG(e),r))},everywhere=exports.everywhere=(0,_infestines.curry)(everywhereU);

},{"infestines":undefined}]},{},[1])(1)
});